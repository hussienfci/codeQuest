import React, { useState } from 'react'

import { NavLink, useNavigate } from "react-router-dom";

type NavbarProps = {
  isSidebarOpen: boolean;
  setIsSidebarOpen: (isSidebarOpen: boolean) => void;
};

function Nav() {
  const navigate = useNavigate();
  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);
  const [isLoggingOut, setIsLoggingOut] = useState(false);
  const role = localStorage.getItem("role");

  const handleLogOut = () => {
    setIsLoggingOut(true);
    setTimeout(() => {
      localStorage.removeItem("token");
      navigate("/login");
    }, 800);
  };

  return (
     <div className="overflow-y-auto">
      <div
        className={`fixed top-0 right-0 z-50 h-full w-64
          bg-white transform transition-transform duration-300 ease-in-out
           
           xl:relative xl:translate-x-0 shadow-lg xl:block`}
        >
        <div className="flex flex-col justify-between h-full w-[240px]">
          <div>
            

            <nav className="px-4 overflow-y-auto">
              <NavLink
                onClick={() => {
                }}
                to="/dashboard/landing-page"
                className={({isActive: boolean}) =>
                  `flex items-center p-3 rounded-3xl transition-colors mb-2 w-[208px] h-[48px] ${isActive
                    ? "bg-[#0075E7] text-white"
                    : "hover:bg-[#0075E7]/10 text-[#00167D] hover:text-[#0075E7]"
                  }`
                }
              >
                {({ isActive }) => (
                  <>
                    <svg
                      width="32"
                      height="24"
                      viewBox="0 0 24 24"
                      fill={isActive ? "#FFFFFF" : "#00167D"}
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M13.3333 6.66673V1.33339C13.3333 0.955617 13.4613 0.639172 13.7173 0.384061C13.9733 0.12895 14.2898 0.000949924 14.6667 6.10352e-05H22.6667C23.0444 6.10352e-05 23.3613 0.128061 23.6173 0.384061C23.8733 0.640061 24.0009 0.956505 24 1.33339V6.66673C24 7.04451 23.872 7.36139 23.616 7.61739C23.36 7.87339 23.0436 8.00095 22.6667 8.00006H14.6667C14.2889 8.00006 13.9724 7.87206 13.7173 7.61606C13.4622 7.36006 13.3342 7.04362 13.3333 6.66673ZM0 12.0001V1.33339C0 0.955617 0.128 0.639172 0.384 0.384061C0.64 0.12895 0.956444 0.000949924 1.33333 6.10352e-05H9.33333C9.71111 6.10352e-05 10.028 0.128061 10.284 0.384061C10.54 0.640061 10.6676 0.956505 10.6667 1.33339V12.0001C10.6667 12.3778 10.5387 12.6947 10.2827 12.9507C10.0267 13.2067 9.71022 13.3343 9.33333 13.3334H1.33333C0.955555 13.3334 0.639111 13.2054 0.384 12.9494C0.128889 12.6934 0.000888889 12.3769 0 12.0001ZM13.3333 22.6667V12.0001C13.3333 11.6223 13.4613 11.3058 13.7173 11.0507C13.9733 10.7956 14.2898 10.6676 14.6667 10.6667H22.6667C23.0444 10.6667 23.3613 10.7947 23.6173 11.0507C23.8733 11.3067 24.0009 11.6232 24 12.0001V22.6667C24 23.0445 23.872 23.3614 23.616 23.6174C23.36 23.8734 23.0436 24.0009 22.6667 24.0001H14.6667C14.2889 24.0001 13.9724 23.8721 13.7173 23.6161C13.4622 23.3601 13.3342 23.0436 13.3333 22.6667ZM0 22.6667V17.3334C0 16.9556 0.128 16.6392 0.384 16.3841C0.64 16.1289 0.956444 16.0009 1.33333 16.0001H9.33333C9.71111 16.0001 10.028 16.1281 10.284 16.3841C10.54 16.6401 10.6676 16.9565 10.6667 17.3334V22.6667C10.6667 23.0445 10.5387 23.3614 10.2827 23.6174C10.0267 23.8734 9.71022 24.0009 9.33333 24.0001H1.33333C0.955555 24.0001 0.639111 23.8721 0.384 23.6161C0.128889 23.3601 0.000888889 23.0436 0 22.6667ZM2.66667 10.6667H8V2.66673H2.66667V10.6667ZM16 21.3334H21.3333V13.3334H16V21.3334ZM16 5.33339H21.3333V2.66673H16V5.33339ZM2.66667 21.3334H8V18.6667H2.66667V21.3334Z" />
                    </svg>

                    <span className="ml-2 mr-1 text-md font-medium">
                      Dashboard 
                    </span>
                  </>
                )}
              </NavLink>

            </nav>
          </div>

          <div className="px-4 pb-4">
            <NavLink
              to="#"
              onClick={(e:any) => {
                e.preventDefault();
                setShowLogoutConfirm(true);
              }}
              className="flex items-center p-3 rounded-3xl transition-colors text-[#00167D] w-[208px] h-[48px]
                    hover:bg-[#0075E7]/10 hover:text-[#0075E7]"
            >
              {({ }) => (
                <>
                  <svg
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="#00167D"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path d="M15.616 0C10.584 0 5.9248 2.232 2.8352 5.9904C2.74718 6.09694 2.68149 6.22009 2.64204 6.35253C2.60259 6.48497 2.59018 6.624 2.60556 6.76133C2.62094 6.89867 2.66378 7.03151 2.73154 7.15195C2.7993 7.27239 2.8906 7.37797 3 7.4624C3.22271 7.63696 3.50466 7.71789 3.78605 7.68802C4.06743 7.65815 4.32611 7.51983 4.5072 7.3024C5.85811 5.66587 7.55549 4.34966 9.47683 3.44876C11.3982 2.54785 13.4955 2.08472 15.6176 2.0928C23.4816 2.0928 29.8576 8.32 29.8576 16C29.8576 23.68 23.4816 29.9072 15.6176 29.9072C13.4649 29.9157 11.338 29.4392 9.39469 28.5133C7.45135 27.5873 5.74149 26.2356 4.392 24.5584C4.21395 24.3387 3.95738 24.197 3.67663 24.1633C3.39589 24.1295 3.11304 24.2064 2.888 24.3776C2.77765 24.4606 2.68509 24.5649 2.61585 24.6844C2.5466 24.8039 2.50208 24.936 2.48491 25.073C2.46775 25.21 2.4783 25.3491 2.51594 25.482C2.55357 25.6148 2.61753 25.7387 2.704 25.8464C5.7888 29.7024 10.5104 32 15.616 32C24.6672 32 32 24.8368 32 16C32 7.1632 24.6656 0 15.616 0ZM4.6432 11.456L0.313601 15.7872C-0.105598 16.2048 -0.113598 16.8752 0.294401 17.2848L4.5248 21.5136C4.62399 21.6112 4.7415 21.6883 4.87057 21.7404C4.99965 21.7925 5.13775 21.8185 5.27693 21.817C5.41611 21.8155 5.55362 21.7865 5.68155 21.7317C5.80949 21.6769 5.92533 21.5973 6.0224 21.4976C6.12249 21.4006 6.20239 21.2848 6.25749 21.1567C6.31259 21.0287 6.3418 20.891 6.34343 20.7517C6.34507 20.6123 6.3191 20.474 6.26702 20.3447C6.21494 20.2154 6.13779 20.0977 6.04 19.9984L3.5648 17.5232H20.0608C20.2 17.5253 20.3383 17.4999 20.4676 17.4484C20.597 17.3968 20.7148 17.3202 20.8145 17.223C20.9141 17.1257 20.9935 17.0097 21.0482 16.8817C21.1028 16.7536 21.1316 16.616 21.1328 16.4768C21.1328 15.8976 20.6528 15.4288 20.0608 15.4288H3.6304L6.1232 12.936C6.22305 12.839 6.30274 12.7233 6.3577 12.5954C6.41266 12.4675 6.44179 12.33 6.44343 12.1909C6.44506 12.0517 6.41917 11.9136 6.36724 11.7844C6.3153 11.6553 6.23834 11.5377 6.1408 11.4384C6.04151 11.3409 5.92392 11.2639 5.79478 11.212C5.66565 11.16 5.52752 11.1341 5.38834 11.1358C5.24916 11.1374 5.11168 11.1665 4.9838 11.2215C4.85592 11.2765 4.74017 11.3561 4.6432 11.456Z" />
                  </svg>

                  <span className="ml-2 mr-1 text-md font-medium">
                    تسجيل خروج
                  </span>
                </>
              )}
            </NavLink>
          </div>
        </div>
      </div>
      
    </div>
 
  )
}

export default Nav
